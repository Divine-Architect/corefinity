:root {
  /* ============================================
   * Corefinity Design Tokens
   * Patch 1 — Foundations only
   * ============================================
   */

  /* Color palette — brand + neutrals + states */
  --cf-color-primary: #003e7e;
  --cf-color-primary-light: #0b63ce;
  --cf-color-primary-dark: #01254a;

  --cf-color-accent: #00c7b1;
  --cf-color-accent-soft: #e0f7f4;

  --cf-color-bg: #ffffff;
  --cf-color-bg-soft: #f7fafc;
  --cf-color-surface: #ffffff;

  --cf-color-border-subtle: #e1e4eb;
  --cf-color-border-strong: #c4c9d6;

  --cf-color-text: #111827;
  --cf-color-text-soft: #4b5563;
  --cf-color-text-muted: #6b7280;
  --cf-color-text-inverse: #ffffff;

  --cf-color-success: #22c55e;
  --cf-color-warning: #f59e0b;
  --cf-color-danger: #ef4444;
  --cf-color-info: #0ea5e9;

  --cf-color-focus-ring: #0ea5e9;

  /* Spacing scale — golden-ratio inspired (approx) */
  /* Base unit ≈ 4px; scaled by φ for harmonious rhythm */
  --cf-space-1: 0.25rem; /* 4px */
  --cf-space-2: 0.375rem; /* 6px (≈ 4 * φ^0.5) */
  --cf-space-3: 0.625rem; /* 10px */
  --cf-space-4: 1rem; /* 16px */
  --cf-space-5: 1.625rem; /* 26px */
  --cf-space-6: 2.625rem; /* 42px */
  --cf-space-7: 4.25rem; /* 68px */

  /* Convenience aliases for layout rhythm */
  --cf-space-xs: var(--cf-space-1);
  --cf-space-sm: var(--cf-space-2);
  --cf-space-md: var(--cf-space-3);
  --cf-space-lg: var(--cf-space-4);
  --cf-space-xl: var(--cf-space-5);
  --cf-space-2xl: var(--cf-space-6);
  --cf-space-3xl: var(--cf-space-7);

  --cf-section-padding-y: var(--cf-space-6);
  --cf-section-padding-y-lg: var(--cf-space-7);

  /* Typography — scale based loosely on φ */
  --cf-font-family-sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    sans-serif;

  --cf-font-weight-regular: 400;
  --cf-font-weight-medium: 500;
  --cf-font-weight-semibold: 600;
  --cf-font-weight-bold: 700;

  /* Font sizes */
  --cf-font-size-xs: 0.75rem; /* 12px */
  --cf-font-size-sm: 0.875rem; /* 14px */
  --cf-font-size-md: 1rem; /* 16px */
  --cf-font-size-lg: 1.125rem; /* 18px */
  --cf-font-size-xl: 1.375rem; /* 22px */
  --cf-font-size-2xl: 1.75rem; /* 28px */
  --cf-font-size-3xl: 2.375rem; /* 38px */
  --cf-font-size-4xl: 3rem; /* 48px */

  /* Line heights */
  --cf-line-height-tight: 1.15;
  --cf-line-height-snug: 1.25;
  --cf-line-height-normal: 1.5;
  --cf-line-height-relaxed: 1.7;

  --cf-line-height-body: var(--cf-line-height-normal);
  --cf-line-height-heading: var(--cf-line-height-snug);

  /* Border radii */
  --cf-radius-xs: 0.125rem; /* 2px */
  --cf-radius-sm: 0.25rem; /* 4px */
  --cf-radius-md: 0.5rem; /* 8px */
  --cf-radius-lg: 0.75rem; /* 12px */
  --cf-radius-xl: 1rem; /* 16px */
  --cf-radius-pill: 9999px;

  /* Shadows */
  --cf-shadow-soft: 0 8px 20px rgba(15, 23, 42, 0.06);
  --cf-shadow-medium: 0 14px 35px rgba(15, 23, 42, 0.12);
  --cf-shadow-strong: 0 22px 55px rgba(15, 23, 42, 0.18);

  /* Focus outline (for accessibility) */
  --cf-focus-ring: 0 0 0 3px rgba(14, 165, 233, 0.35);
}

/* ============================================
 * Patch 2 — Base Reset + Typography
 * ============================================ */

/* CSS Reset (minimal normalize-style) */
*, *::before, *::after {
  box-sizing: border-box;
}

html {
  -webkit-text-size-adjust: 100%;
  scroll-behavior: smooth;
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--cf-font-family-sans);
  font-size: var(--cf-font-size-md);
  line-height: var(--cf-line-height-body);
  color: var(--cf-color-text);
  background: var(--cf-color-bg);
}

/* Remove list styles */
ul, ol {
  margin: 0;
  padding: 0;
  list-style: none;
}

/* Remove margin collapse issues */
h1, h2, h3, h4, h5, h6,
p {
  margin: 0;
}

/* Anchor defaults */
a {
  color: inherit;
  text-decoration: none;
}

img {
  max-width: 100%;
  display: block;
}

/* Headings — golden-ratio scale */
h1 {
  font-size: var(--cf-font-size-4xl);
  line-height: var(--cf-line-height-heading);
  font-weight: var(--cf-font-weight-bold);
}

h2 {
  font-size: var(--cf-font-size-3xl);
  line-height: var(--cf-line-height-heading);
  font-weight: var(--cf-font-weight-semibold);
}

h3 {
  font-size: var(--cf-font-size-2xl);
  line-height: var(--cf-line-height-heading);
  font-weight: var(--cf-font-weight-semibold);
}

h4 {
  font-size: var(--cf-font-size-xl);
  line-height: var(--cf-line-height-heading);
  font-weight: var(--cf-font-weight-medium);
}

/* Paragraphs */
p {
  font-size: var(--cf-font-size-md);
  line-height: var(--cf-line-height-body);
  color: var(--cf-color-text);
}

/* Utility classes — font sizes */
.text-xs { font-size: var(--cf-font-size-xs); }
.text-sm { font-size: var(--cf-font-size-sm); }
.text-md { font-size: var(--cf-font-size-md); }
.text-lg { font-size: var(--cf-font-size-lg); }
.text-xl { font-size: var(--cf-font-size-xl); }
.text-2xl { font-size: var(--cf-font-size-2xl); }
.text-3xl { font-size: var(--cf-font-size-3xl); }
.text-4xl { font-size: var(--cf-font-size-4xl); }

/* Utility classes — font weights */
.font-regular { font-weight: var(--cf-font-weight-regular); }
.font-medium  { font-weight: var(--cf-font-weight-medium); }
.font-semibold { font-weight: var(--cf-font-weight-semibold); }
.font-bold { font-weight: var(--cf-font-weight-bold); }

/* Section spacing */
.section {
  padding-top: var(--cf-section-padding-y);
  padding-bottom: var(--cf-section-padding-y);
}

.section-lg {
  padding-top: var(--cf-section-padding-y-lg);
  padding-bottom: var(--cf-section-padding-y-lg);
}

/* ============================================
 * Patch 3 — Container + Grid System
 * ============================================ */

/* Page max-width container */
.cf-container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--cf-space-4);
  padding-right: var(--cf-space-4);
  max-width: 1120px;
}

@media (min-width: 1280px) {
  .cf-container {
    max-width: 1200px;
  }
}

/* Section container variant (for full-width backgrounds) */
.cf-section-inner {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--cf-space-4);
  padding-right: var(--cf-space-4);
  max-width: 1120px;
}

@media (min-width: 1280px) {
  .cf-section-inner {
    max-width: 1200px;
  }
}

/* Simple flex utilities */
.cf-flex {
  display: flex;
}

.cf-flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.cf-flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* Gap utilities aligned to spacing scale */
.gap-xs { gap: var(--cf-space-xs); }
.gap-sm { gap: var(--cf-space-sm); }
.gap-md { gap: var(--cf-space-md); }
.gap-lg { gap: var(--cf-space-lg); }
.gap-xl { gap: var(--cf-space-xl); }

/* Grid utilities */
.cf-grid {
  display: grid;
  gap: var(--cf-space-lg);
}

.cf-grid-2 {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: var(--cf-space-lg);
}

.cf-grid-3 {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: var(--cf-space-lg);
}

@media (min-width: 768px) {
  .cf-grid-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  .cf-grid-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

/* Alignment helpers */
.cf-items-center { align-items: center; }
.cf-items-start { align-items: flex-start; }
.cf-items-end { align-items: flex-end; }
.cf-justify-center { justify-content: center; }
.cf-justify-between { justify-content: space-between; }

/* Text alignment utilities */
.text-left { text-align: left; }
.text-center { text-align: center; }
.text-right { text-align: right; }

/* ============================================
 * Patch 4 — Header Layout (Desktop + Mobile)
 * ============================================ */

.cf-header {
  position: sticky;
  top: 0;
  z-index: 40;
  background: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--cf-color-border-subtle);
}

.cf-header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 4.25rem; /* harmonized with cf-space-4/5 */
}

.cf-header-logo {
  display: flex;
  align-items: center;
  gap: var(--cf-space-sm);
}

.cf-header-logo img {
  height: 2rem;
  width: auto;
}

.cf-header-logo-text {
  font-size: var(--cf-font-size-lg);
  font-weight: var(--cf-font-weight-semibold);
  letter-spacing: 0.02em;
}

/* Primary navigation group */
.cf-header-nav {
  display: none;
  align-items: center;
  gap: var(--cf-space-lg);
}

.cf-header-nav-link {
  font-size: var(--cf-font-size-sm);
  font-weight: var(--cf-font-weight-medium);
  color: var(--cf-color-text-soft);
  padding: 0.25rem 0;
  position: relative;
  transition: color 0.18s ease;
}

.cf-header-nav-link:hover,
.cf-header-nav-link:focus-visible {
  color: var(--cf-color-text);
}

.cf-header-nav-link--active {
  color: var(--cf-color-primary);
}

/* CTA area on the right */
.cf-header-actions {
  display: none;
  align-items: center;
  gap: var(--cf-space-sm);
}

.cf-btn-header-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 1rem;
  border-radius: var(--cf-radius-pill);
  border: none;
  background: var(--cf-color-primary);
  color: var(--cf-color-text-inverse);
  font-size: var(--cf-font-size-sm);
  font-weight: var(--cf-font-weight-medium);
  box-shadow: var(--cf-shadow-soft);
  cursor: pointer;
  transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
}

.cf-btn-header-primary:hover {
  background: var(--cf-color-primary-dark);
  box-shadow: var(--cf-shadow-medium);
  transform: translateY(-1px);
}

.cf-btn-header-primary:focus-visible {
  outline: none;
  box-shadow: var(--cf-focus-ring);
}

/* Ghost-style secondary button (e.g. Login / Language) */
.cf-btn-header-ghost {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.4rem 0.9rem;
  border-radius: var(--cf-radius-pill);
  border: 1px solid var(--cf-color-border-subtle);
  background: transparent;
  color: var(--cf-color-text-soft);
  font-size: var(--cf-font-size-sm);
  font-weight: var(--cf-font-weight-medium);
  cursor: pointer;
  transition: background 0.12s ease, color 0.12s ease, border-color 0.12s ease;
}

.cf-btn-header-ghost:hover {
  background: var(--cf-color-bg-soft);
  color: var(--cf-color-text);
  border-color: var(--cf-color-border-strong);
}

.cf-btn-header-ghost:focus-visible {
  outline: none;
  box-shadow: var(--cf-focus-ring);
}

/* Mobile menu toggle */
.cf-header-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: var(--cf-radius-pill);
  border: 1px solid var(--cf-color-border-subtle);
  background: #ffffff;
  cursor: pointer;
  padding: 0;
}

.cf-header-toggle-icon {
  width: 1.25rem;
  height: 1.25rem;
  display: block;
}

/* Desktop breakpoint */
@media (min-width: 768px) {
  .cf-header-inner {
    height: 4.5rem;
  }

  .cf-header-nav {
    display: flex;
  }

  .cf-header-actions {
    display: flex;
  }

  .cf-header-toggle {
    display: none;
  }
}

/* ============================================
 * Patch 8 — Mega Menu Structural CSS
 * ============================================ */

/* Wrapper for all mega menus (hidden by default) */
.cf-mega {
  position: absolute;
  left: 0;
  right: 0;
  top: 100%;
  width: 100%;
  background: var(--cf-color-surface);
  border-bottom: 1px solid var(--cf-color-border-subtle);
  box-shadow: var(--cf-shadow-soft);
  display: none;
  opacity: 0;
  visibility: hidden;
  transform: translateY(10px);
  transition:
    opacity 0.18s ease,
    transform 0.18s ease,
    visibility 0.18s ease;
  z-index: 39;
}

/* When a nav item is active (desktop) */
.cf-header-nav-link[aria-expanded="true"] + .cf-mega,
.cf-mega.is-open {
  display: block;
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

/* Inner mega menu layout */
.cf-mega-inner {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--cf-space-xl) var(--cf-space-4);
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: var(--cf-space-xl);
}

/* 3-column layout for desktop */
@media (min-width: 992px) {
  .cf-mega-inner {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

/* Column group (heading + links) */
.cf-mega-col {
  display: flex;
  flex-direction: column;
  gap: var(--cf-space-md);
}

/* Headings */
.cf-mega-heading {
  font-size: var(--cf-font-size-lg);
  font-weight: var(--cf-font-weight-semibold);
  color: var(--cf-color-text);
  margin-bottom: var(--cf-space-sm);
}

/* Sub-links (items inside mega menu) */
.cf-mega-link {
  font-size: var(--cf-font-size-sm);
  line-height: var(--cf-line-height-body);
  color: var(--cf-color-text-soft);
  transition: color 0.15s ease;
}

.cf-mega-link:hover,
.cf-mega-link:focus-visible {
  color: var(--cf-color-text);
}

/* Optional image slot (right column) */
.cf-mega-image {
  width: 100%;
  height: auto;
  border-radius: var(--cf-radius-lg);
  object-fit: cover;
  box-shadow: var(--cf-shadow-soft);
}

/* Mobile: mega menu hidden entirely (handled in Patch 10) */
@media (max-width: 767px) {
  .cf-mega {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
  }
}

